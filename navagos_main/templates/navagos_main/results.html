{% extends 'navagos_main/base.html' %}

{% block content %}

<div class="card">
  <div class="card-body">
    {% if latest_test %}
      <h1 class="card-title">Αποτελέσματα</h1>
      <p>Date: {{ latest_test.test_datetime }}</p>
      <p>Correct choices: {{ latest_test.correct_answers }}/50</p>
      
      {% if latest_test.pass_fail %}
        <p class="text-success">Επιτυχία</p>
      {% else %}
        <p class="text-danger">Δυστυχώς, δεν πέρασες το τεστ.</br> Συνέχισε να μελετάς και προσπάθησε ξανά.</p>
      {% endif %}

      <h2>Ανάλυση Αποτελεσμάτων</h2>
      <ul class="list-group">
        {% for question in question_data %}
          <li class="list-group-item">
            <strong>Question:</strong> {{ question.question_text }}<br>
            <strong>Chosen Answer:</strong> {{ question.chosen_answer }}<br>
            <strong>Correct Answer: {{ question.correct_answer }}</strong><br>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>{{ message }}</p>
    {% endif %}
  </div>
</div>

{% endblock content %}
